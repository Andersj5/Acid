<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="initial-scale = 1.0,maximum-scale = 1.0">
    <script async="" src="/compiled/acid.js" id="acid-lib" data-core=""></script>
    <title>Reactive Todo Object.observe</title>
</head>

<body class="scroll">
    <div class="margin-auto max-full pad_box">
        <div id="wrapper" class="standard_list"></div>
        <hr>

        <div class="w-50 left pad_box">
            <article class="pad_box rounded">
                <h3>React Version</h3>
                <pre>
<code>
var TodoList = React.createClass({
    displayName: "TodoList",
    render: function () {
        var createItem = function (itemText) {
                return React.createElement("li", null, itemText);
            };
        return React.createElement("ul", null, this.props.items.map(createItem));
    }
});
var TodoApp = React.createClass({
    displayName: "TodoApp",
    getInitialState: function () {
        return {
            items: [],
            text: ''
        };
    },
    onChange: function (e) {
        this.setState({
            text: e.target.value
        });
    },
    handleSubmit: function (e) {
        e.preventDefault();
        var nextItems = this.state.items.concat([this.state.text]);
        var nextText = '';
        this.setState({
            items: nextItems,
            text: nextText
        });
    },
    render: function () {
        return (
        React.createElement("div", null,
         React.createElement("h3", null, "TODO"),
        React.createElement(TodoList, {
            items: this.state.items
        }), React.createElement("form", {
            onSubmit: this.handleSubmit
        }, React.createElement("input", {
            onChange: this.onChange,
            value: this.state.text
        }), React.createElement("button", null, 'Add #' + (this.state.items.length + 1)))));
    }
});

React.render(React.createElement(TodoApp, null), mountNode);
</code>
</pre>
            </article>
        </div>

        <div class="w-50 left pad_box">
            <article class="pad_box rounded">
                <h3>Acid Version</h3>
                <pre>
<code class="hljs javascript">
var TodoApp=$.factory(&#039;todo&#039;, {
    template: `&lt;div&gt;&lt;h3&gt;TODO&lt;/h3&gt;
        &lt;ul data-node=&quot;ul&quot; data-bind=&quot;privateData.list&quot;&gt;&lt;/ul&gt;
        &lt;input data-node=&quot;input&quot; data-bind=&quot;privateData.text[value:keyup]&quot; type=&quot;text&quot; /&gt;
        &lt;button data-click=&quot;this.handleSubmit&quot; data-node=&quot;handleSubmit&quot;&gt;
            Add #
            &lt;span data-node=&quot;span&quot;&gt;&lt;/span&gt;
        &lt;/button&gt;
    &lt;/div&gt;`,
    privateData:function(){
        return {
            list: [],
            text:&#039;&#039;
        };
    },
    listOnEvery:function(){
        this.nodes.span.tc(this.privateData.list.length+1);
    },
    handleSubmit: function (obj) {
        this.privateData.list.push(this.componentRender({text:this.privateData.text}));
        this.privateData.text=&#039;&#039;;
    },
    component:{
        template:`&lt;li data-node=&quot;todoItem&quot; data-bind=&quot;text[textContent]&quot;&gt;&lt;/li&gt;`
    }
});
TodoApp.render().mount().apTo($(&#39;#wrapper&#39;));
</code>
</pre>
            </article>
        </div>
    </div>
</body>
</html>
